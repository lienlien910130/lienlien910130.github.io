(()=>{"use strict";window.addEventListener("load",(()=>{liff.init({liffId:"1660857311-QDo3BLk3"}).then((()=>{let e,t,n,l,i,o;e=liff.getLanguage(),t=liff.getVersion(),n=liff.isInClient(),l=liff.isLoggedIn(),i=liff.getOS(),o=liff.getLineVersion(),document.getElementById("result-basic").value=`language: ${e}\nLIFF SDK version: ${t}\nisInClient: ${n}\nisLoggedIn: ${l}\nos: ${i}\nlineVersion: ${o}`,document.getElementById("login").addEventListener("click",(()=>{l||liff.login({redirectUri:"https://liff.line.me/1660857311-QDo3BLk3"})})),document.getElementById("logout").addEventListener("click",(()=>{l&&(liff.logout(),window.location.reload())})),document.getElementById("profile").addEventListener("click",(()=>{l&&liff.getProfile().then((e=>{document.getElementById("result-info").value=`${JSON.stringify(e)}`}))})),document.getElementById("getEmail").addEventListener("click",(()=>{const e=liff.getDecodedIDToken().email;document.getElementById("result-info").value=`${e}`})),document.getElementById("qrScan").addEventListener("click",(()=>{l&&liff.scanCode&&liff.scanCodeV2().then((e=>{document.getElementById("result-qr").value=e.value,fetch("https://1851255c-6a66-400a-8682-69454cae4f53.mock.pstmn.io/forum23/rsvp/api/qr-verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.value})}).then((e=>e.json())).then((e=>{console.log(e),alert(e.success+"//"+e.data.id),document.getElementById("result-api").value="無效"})).catch((e=>{console.log("錯誤:",e)}))})).catch((e=>{document.getElementById("result-qr").value=e}))}))})).catch((e=>{console.log(e)}))}))})();