<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>LIFF v2 </title>
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="LIFF v2"/>
    <meta property="og:title" content="LIFF v2"/>
    <meta itemprop="name" content="LIFF v2"/>
    <meta name="description" content="LIFF v2"/>
    <meta property="og:description" content="LIFF v2"/>
    <meta itemprop="description" content="LIFF v2"/>
    <meta itemprop="image" content="https://www.macromicro.me/img/ui/logo@2x.png"/>
    <meta property="og:image" content="https://www.macromicro.me/img/ui/logo@2x.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:image:alt" content="LIFF v2"/>
    <link rel="shortcut icon" href="https://cdn.macromicro.me/assets/img/favicons/favicon-32.png"/>
    <link rel="stylesheet" href="dist/main.css"/>
  </head>
  <body>
    <div class="container" id="app">
      <h1>LIFF v2 基本使用示範</h1>
      <h6>筆記文：<a href="https://letswrite.tw/liff-init/" target="_blank">Let's Write</a></h6>
      <section class="row">
        <div class="twelve column">
          <!-- 基本環境資訊-->
          <div class="box">
            <h2>基本環境資訊</h2>
            <script src="https://gist.github.com/letswritetw/d789bc9bb90def936d8380f376ff6859.js"></script>
            <h3>示範</h3>
            <textarea class="u-full-width" id="result-basic" placeholder="結果會顯示在這"></textarea>
          </div>
          <hr/>
          <!-- 登入、登出-->
          <div class="box">
            <h2>登入、登出</h2>
            <ul>
              <li>僅支援外部瀏覽器</li>
              <li>「redirectUri」的網址必須要在後台中的「Callback URL」先設定好，不然會 400 error</li>
            </ul>
            <script src="https://gist.github.com/letswritetw/dbeeaa558161b9eafeb83b09f12dce58.js"></script>
            <h3>示範</h3>
            <ul>
              <li>外部瀏覽器時才有作用</li>
              <li>登入 / 登出 後，可以看上面的「isLoggedIn」是否有變動，true 為登入、false 為未登入</li>
            </ul>
            <button id="login">登入 LINE</button>
            <button id="logout">登出 LINE</button>
          </div>
          <hr/>
          <!-- 取得使用者資料-->
          <div class="box">
            <h2>取得使用者資料</h2>
            <p>官方提醒：</p>
            <blockquote>
              <p>Do not track a user with cookies, localStorage, or sessionStorage or link LINE user information with external session information without getting the user's consent. While you can use cookies, localStorage, or sessionStorage with the LIFF app, their use may be restricted in the future.</p>
              <p>未經用戶同意，請勿使用 cookie，localStorage 或 sessionStorage 跟踪用戶或將 LINE 用戶信息與外部會話信息鏈接。雖然您可以通過 LIFF 應用程序使用 cookie，localStorage 或 sessionStorage，但將來可能會限制它們的使用。</p>
            </blockquote>
            <script src="https://gist.github.com/letswritetw/1e0bc0ad0b62cefc353e294bcee4de58.js"></script>
            <h3>示範</h3>
            <p>需先登入 LINE</p>
            <button id="getContext">取得使用者類型資料</button>
            <button id="profile">取得使用者公開資料</button>
            <button id="getEmail">取得使用者 email</button>
            <textarea class="u-full-width" id="result-info" placeholder="結果會顯示在這"></textarea>
          </div>
          <hr/>
          <!-- 掃描器-->
          <div class="box">
            <h2>掃描器</h2>
            <ol>
              <li>僅支援在 LINE App 內開啟時</li>
              <li>後台的「Scan QR」必須是打勾的，而且使用者要在 LINE App 上開啟時才能使用</li>
              <li>會回傳字串回來</li>
              <li>IOS 的 LINE 在 9.19.0 以上的版本無法使用，會回傳 undefined</li>
            </ol>
            <script src="https://gist.github.com/letswritetw/bc975bf7db7d049b0687e6a038b88f74.js"></script>
            <input class="u-full-width" id="result-qr" type="text" placeholder="這邊會顯示掃描後的結果"/>
            <button id="qrScan">打開 QR code 掃描器</button>
          </div>
          <hr/>
          <!-- 關閉-->
          <div class="box">
            <h2>關閉 LIFF</h2>
            <p>僅支援在 LINE App 內開啟時</p>
            <script src="https://gist.github.com/letswritetw/229c09fe6a65788a3fd68c8c09c197ba.js"></script>
            <button id="closeLIFF">關閉 LIFF</button>
          </div>
        </div>
      </section>
    </div>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="dist/main.js"></script>
  </body>
</html>
